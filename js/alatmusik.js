const alatmusik = [
      {
        nama: "Totobuang",
        asal: "Maluku Tengah",
        gambar: "../images/totobuang.jpg",
        deskripsi: "Alat musik pukul yang terbuat dari kuningan dan berbentuk gong. Awalnya digunakan dalam budaya Kristen di Maluku, kemudian diadaptasi dan sering dimainkan bersama alat musik tifa dalam acara adat, penyambutan tamu, dan hiburan."
      },
      {
        nama: "Tifa",
        asal: "Maluku Tengah",
        gambar: "../images/tifa.jpg",
        deskripsi: "Alat musik pukul (gendang) yang terbuat dari kayu dan kulit binatang. Tifa sudah ada sejak Kerajaan di Maluku dan digunakan dalam acara Kerajaan serta upacara adat. Alat musik ini juga digunakan sebagai pengiring tari-tarian dan nyanyian rakyat."
      },
      {
        nama: "Tahuri / Korno",
        asal: "Maluku Tengah",
        gambar: "../images/tahuri.jpg",
        deskripsi: "Alat musik tiup yang dibuat dari kerang besar dan menghasilkan bunyi nyaring yang khas. Dahulu digunakan masyarakat pesisir sebagai alat komunikasi antar perorangan atau raja dengan rakyat. Beberapa masyarakat pesisir menyebutnya sebagai Korno."
      },
      {
        nama: "Jukulele",
        asal: "Maluku Tengah",
        gambar: "../images/jukulele.jpg",
        deskripsi: "Alat musik petik yang terbuat dari bahan-bahan lokal seperti batok kelapa, kulit kambing, dan kayu, serta senar nilon sebagai dawainya. Akrab disebut Ukulele karena awalnya berasal dari Hawaii dan diperkenalkan ke Maluku oleh para pelaut Portugis."
      },
      {
        nama: "Fu",
        asal: "Maluku Utara",
        gambar: "../images/fu.jpg",
        deskripsi: "Alat musik tiup yang terbuat dari kerang berukuran besar yang dapat menghasilkan suara seperti dengungan yang unik. Sama seperti Tahuri, alat musik ini biasanya digunakan sebagai alat komunikasi, pengumuman, dan pemanggil warga dalam upacara adat."
      },
      {
        nama: "Rumba",
        asal: "Maluku",
        gambar: "../images/rumba.webp",
        deskripsi: "Alat musik goyang yang terbuat dari tempurung kelapa yang diisi kerikil dengan pegangannya dari kayu (mirip Maracas dari Amerika Latin). Pertama kali diperkenalkan oleh pelaut Portugis pada masa penjajahan."
      },
      {
        nama: "Suling Melintang / Floit",
        asal: "Maluku",
        gambar: "../images/sulingmelintang.jpeg",
        deskripsi: "Alat musik tiup dari bambu dengan salah satu ujungnya ditutup dan bagian atasnya dilubangi. Biasanya digunakan untuk mengiringi tari tradisional, menyambut tamu, dan acara adat."
      },
      {
        nama: "Idiokordo",
        asal: "Maluku",
        gambar: "../images/idiokardo.jpg",
        deskripsi: "Alat musik petik seperti gitar yang terbuat dari kayu yang diukir dan dibentuk. Alat musik ini juga memiliki nama lain yaitu Tatabuhan."
      },
      {
        nama: "Gong Sedang",
        asal: "Maluku",
        gambar: "../images/gongsedang.jpeg",
        deskripsi: "Alat musik pukul berbahan dasar kuningan dengan motif ekor naga pada bagian depan gong hasil akulturasi budaya China."
      },
      {
        nama: "Hawaiian",
        asal: "Maluku",
        gambar: "../images/hawaiian.png",
        deskripsi: "Alat musik petik yang terinspirasi dari ukulele, terbuat dari kayu dan senarnya dari baja. Hawaiian dikenal memiliki 8 senar dan menghasilkan suara yang berbeda."
      },

      {
        nama: "Tifa",
        asal: "Papua Timur",
        gambar: "../images/tifapapua.jpg",
        deskripsi: "Alat musik pukul (gendang) ini bukan hanya berasal dari Maluku melainkan juga berasal dari Papua. Berbeda dengan Maluku, di Papua alat musik ini memiliki ukiran dan hiasan etnik."
      },
      {
        nama: "Amyen",
        asal: "Papua Timur",
        gambar: "../images/amyen.jpg",
        deskripsi: "Alat musik tiup sejenis terompet dari kayu putih, berasal dari suku Web. Biasa digunakan untuk kesenian tari-tarian daerah."
      },
      {
        nama: "Atowo",
        asal: "Papua Pegunungan",
        gambar: "../images/atowo.jpg",
        deskripsi: "Alat musik pukul dari kayu yang dihiasi ukiran, digunakan dalam upacara adat dan pertunjukan musik."
      },
      {
        nama: "Pikon",
        asal: "Papua Pegunungan",
        gambar: "../images/pikon.webp",
        deskripsi: "Alat musik tiup khas suku Dani, terbuat dari bambu berongga dan menghasilkan suara unik."
      },
      {
        nama: "Triton",
        asal: "Papua Tengah",
        gambar: "../images/triton.png",
        deskripsi: "Alat musik tiup dari kulit kerang, digunakan untuk memanggil orang atau tanda bahaya."
      },
      {
        nama: "Eme",
        asal: "Papua Tengah",
        gambar: "../images/eme.jpg",
        deskripsi: "Alat musik pukul dari bahan kapur bia dan darah manusia sebagai perekat kulit biawak."
      },
      {
        nama: "Yi",
        asal: "Papua Barat",
        gambar: "../images/yi.jpg",
        deskripsi: "Alat musik tiup dari kayu dan bambu berwarna coklat gelap, digunakan mengiringi tarian adat."
      },
      {
        nama: "Guoto",
        asal: "Papua Barat",
        gambar: "../images/guoto.JPG",
        deskripsi: "Alat musik petik dari kayu dan kulit lembu, digunakan dalam upacara adat dan tarian."
      },
      {
        nama: "Krombi",
        asal: "Papua Barat Daya",
        gambar: "../images/krombi.webp",
        deskripsi: "Alat musik petik dari bambu, berasal dari suku Tehit di Sorong, digunakan untuk tari adat."
      },
      {
        nama: "Paar dan Kee",
        asal: "Papua Utara",
        gambar: "../images/paarkee.jpeg",
        deskripsi: "Alat musik tiup dan pukul dari kayu, dimainkan bersamaan dalam pesta adat suku Waris."
      },
      {
        nama: "Fuu",
        asal: "Papua Selatan",
        gambar: "../images/fuu.jpg",
        deskripsi: "Alat musik tiup dari kayu dan bambu, berasal dari suku Asmat, digunakan untuk tarian adat."
      },
      {
        nama: "Butshake",
        asal: "Papua Selatan",
        gambar: "../images/butshake.png",
        deskripsi: "Alat musik perkusi dari bambu dan buah kenari, dimainkan dengan cara digoyangkan."
      },
      {
        nama: "Tatali",
        asal: "Sulawesi Tengah",
        gambar: "../images/tatali.jpg",
        deskripsi:
          "Alat musik tradisional ini terbuat dari tumbuhan bambu. Umumnya, alat musik tatali berukuran panjang 50 cm dan diameter 2 cm dengan tiga buah lubang nada. Alat musik tatali terdiri dari tiga nada yang memiliki kualitas suara bergantung pada keahlian para pemain musik untuk mengatur pernapasannya."
      },
      {
        nama: "Pare’e",
        asal: "Sulawesi Tengah",
        jenis: "Pukul",
        gambar: "../images/pare.jpg",
        deskripsi:
          "Alat musik tradisional ini terbuat dari bambu kering dan dimainkan dengan cara dipukul menggunakan telapak tangan. Dahulu digunakan para petani sebagai hiburan di waktu senggang."
      },
      {
        nama: "Santu",
        asal: "Sulawesi Tengah",
        gambar: "../images/santu.jpg",
        deskripsi:
          "Alat musik ini terbuat dari bambu dan kayu rotan. Dapat dimainkan dengan cara dipetik atau dipukul-pukul menggunakan tongkat."
      },
      {
        nama: "Tutuba",
        asal: "Sulawesi Tengah",
        gambar: "../images/tutuba.jpg",
        deskripsi:
          "Termasuk alat musik dawai yang terbuat dari bambu. Dikenal berasal dari suku To Wana dan dimainkan dengan cara dipetik."
      },
      {
        nama: "Gimba",
        asal: "Sulawesi Tengah",
        gambar: "../images/gimba.jpg",
        deskripsi:
          "Terbuat dari kayu dan kulit binatang, dimainkan dengan cara ditabuh menggunakan tangan atau alat pukul. Digunakan dalam upacara adat."
      },
      {
        nama: "Kanda",
        asal: "Sulawesi Tengah",
        gambar: "../images/kanda.jpg",
        deskripsi:
          "Mirip tamborin atau gendang kecil, terbuat dari kayu. Biasanya digunakan untuk mengiringi upacara tradisional dan acara seni."
      },
      {
        nama: "Lalove",
        asal: "Sulawesi Tengah",
        gambar: "../images/lalove.jpg",
        deskripsi:
          "Alat musik tiup khas suku Kaili, berbentuk suling panjang dan dianggap sakral karena dipercaya dapat menyembuhkan penyakit."
      },
      {
        nama: "Salude",
        asal: "Sulawesi Utara",
        gambar: "../images/salude.jpg",
        deskripsi:
          "Sejenis sitar tabung dari bambu, dimainkan dengan cara dipetik atau dipukul menggunakan pelepah pinang."
      },
      {
        nama: "Kolintang",
        asal: "Sulawesi Utara",
        gambar: "../images/kolintang.jpg",
        deskripsi:
          "Terbuat dari kayu seperti bandaran atau wenang, dimainkan dengan cara dipukul. Berasal dari Minahasa dan sering digunakan dalam orkestra tradisional."
      },
      {
        nama: "Sasesahang",
        asal: "Sulawesi Utara",
        gambar: "../images/sasesahang.jpg",
        deskripsi:
          "Terbuat dari bambu yang dibelah dan dibentuk seperti garpu tala. Ditepuk dengan tangan kiri sambil mengatur nada dengan jari kanan."
      },
      {
        nama: "Momongan",
        asal: "Sulawesi Utara",
        gambar: "../images/momongan.jpg",
        deskripsi:
          "Alat musik dari logam kuningan atau perunggu, mirip gong kecil, digunakan dalam pertunjukan tari tradisional Minahasa."
      },
      {
        nama: "Oli",
        asal: "Sulawesi Utara",
        gambar: "../images/oli.jpg",
        deskripsi:
          "Suling bambu khas Sangihe, dimainkan dengan cara ditiup. ‘Oli’ juga nama genre musik lokal di daerah tersebut."
      },
      {
        nama: "Tetengkoren",
        asal: "Sulawesi Utara",
        gambar: "../images/tetengkoren.jpg",
        deskripsi:
          "Terbuat dari bambu, dimainkan dengan cara dipukul. Dulu digunakan sebagai alat komunikasi dan pengusir hama di sawah."
      },
      {
        nama: "Geso Geso",
        asal: "Sulawesi Selatan",
        gambar: "../images/geso.jpg",
        deskripsi:
          "Alat musik tiup dari bambu yang menyerupai seruling. Menghasilkan nada lembut dan khas dari Sulawesi Selatan."
      },
      {
        nama: "Talindo",
        asal: "Sulawesi Selatan",
        gambar: "../images/talindo.jpg",
        deskripsi:
          "Alat musik perkusi dari kayu dan kulit hewan, digunakan dalam berbagai tarian dan pertunjukan adat Sulawesi Selatan."
      },
      {
        nama: "Puik Puik",
        asal: "Sulawesi Selatan",
        gambar: "../images/pui.jpg",
        deskripsi:
          "Alat musik tiup berbentuk kerucut seperti klarinet, terbuat dari logam dan daun lontar. Digunakan dalam upacara adat."
      },
      {
        nama: "Kacaping",
        asal: "Sulawesi Selatan",
        gambar: "../images/kacapiing.jpg",
        deskripsi:
          "Alat musik dawai berbentuk perahu kecil dengan senar kawat. Digunakan untuk mengiringi cerita rakyat dan nyanyian tradisional."
      },
      {
        nama: "Gandrang",
        asal: "Sulawesi Selatan",
        gambar: "../images/gandrang.jpg",
        deskripsi:
          "Gendang tradisional dari kayu nangka atau kelapa, digunakan dalam upacara adat dan tarian Makassar."
      },
      {
        nama: "Alosu",
        asal: "Sulawesi Selatan",
        gambar: "../images/alosu.jpg",
        deskripsi:
          "Terbuat dari bambu berisi batu kecil, dibungkus kain merah putih dan berbentuk kepala ayam. Dimainkan dalam tari Bissu."
      },
      {
        nama: "Ana Baccing",
        asal: "Sulawesi Selatan",
        gambar: "../images/anabaccing.jpg",
        deskripsi:
          "Alat musik besi berbentuk anak panah, digunakan dalam Tari Bissu dan upacara kerajaan."
      },
      {
        nama: "Basi Basi",
        asal: "Sulawesi Selatan",
        gambar: "../images/basibasi.jpg",
        deskripsi:
          "Alat musik tiup bermembran mirip alat pawang ular, digunakan pada pesta adat dan acara kesenian."
      },
      {
        nama: "Jalappa",
        asal: "Sulawesi Selatan",
        gambar: "../images/jalappa.jpg",
        deskripsi:
          "Dikenal juga sebagai Kancing-Kancing, terbuat dari logam kuningan dan dimainkan dalam upacara adat."
      },
      {
        nama: "Papompang",
        asal: "Sulawesi Selatan",
        gambar: "../images/papompang.jpg",
        deskripsi:
          "Terbuat dari bambu berbagai ukuran, dimainkan berkelompok seperti orkestra dan dipadukan dengan suling bambu."
      },
      {
        nama: "Suling Lembang",
        asal: "Sulawesi Selatan",
        gambar: "../images/sulinglembang.jpg",
        deskripsi:
          "Suling panjang khas Toraja dengan enam lubang nada dan ujung bertanduk. Digunakan untuk lagu daerah dan upacara kedukaan."
      },
      {
        nama: "Pakeke",
        asal: "Sulawesi Barat",
        gambar: "../images/pakeke.jpg",
        deskripsi:
          "Suling kecil dari bambu sepanjang 10 cm dengan 3–6 lubang nada. Ditiup petani untuk hiburan di ladang."
      },
      {
        nama: "Calong",
        asal: "Sulawesi Barat",
        gambar: "../images/calong.jpg",
        deskripsi:
          "Alat musik dari Mandar yang terbuat dari bambu, menghasilkan bunyi ‘caq’ saat dipukul."
      },
      {
        nama: "Gongga Lima",
        asal: "Sulawesi Barat",
        gambar: "../images/gongga.jpg",
        deskripsi:
          "Disebut juga Jarumbing, terbuat dari bambu dan dimainkan dengan jari. Digunakan untuk hiburan tradisional."
      },
      {
        nama: "Rawana",
        asal: "Sulawesi Barat",
        gambar: "../images/rawana.jpg",
        deskripsi:
          "Rebana khas Mandar terbuat dari kayu dan kulit tipis, dimainkan dalam acara keagamaan dan adat."
      },
      {
        nama: "Lado Lado",
        asal: "Sulawesi Tenggara",
        gambar: "../images/ladolado.png",
        deskripsi:
          "Alat musik berdawai empat dari kayu berbentuk oval, dimainkan dengan cara digesek seperti biola."
      },
      {
        nama: "Baasi",
        asal: "Sulawesi Tenggara",
        gambar: "../images/baasi.jpg",
        deskripsi:
          "Terdiri dari 10 bambu dan rotan, dimainkan sebagai pengiring lagu daerah."
      },
      {
        nama: "Dimba Nggowuna",
        asal: "Sulawesi Tenggara",
        gambar: "../images/dimba.jpg",
        deskripsi:
          "Terbuat dari bambu dan rotan, dimainkan oleh perempuan sebagai hiburan setelah menenun. Cara mainnya dipukul."
      },
      {
        nama: "Sasando",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/sasando.jpg",
        deskripsi:
          "Alat musik petik berupa cakram bundar dengan seribu satu senar yang diregangkan di atas rangkaian bambu. Berasal dari legenda Sangguana yang bermimpi menciptakan alat musik merdu."
      },
      {
        nama: "Se’i Lo’o",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/sei.jpg",
        deskripsi:
          "Alat musik petik mirip gitar, terbuat dari kulit dan kayu dengan 3–4 senar. Biasanya digunakan untuk mengiringi tarian adat dan lagu tradisional Flores."
      },
      {
        nama: "Heo",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/hero.jpg",
        deskripsi:
          "Alat musik gesek dari kayu dengan 4 senar usus kuskus kering dan busur dari ekor kuda. Berasal dari Suku Dawan Timor."
      },
      {
        nama: "Thobo",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/thobo.jpg",
        deskripsi:
          "Alat musik perkusi dari bambu beruas yang bagian bawahnya dihilangkan. Digunakan dalam acara adat seperti musik Foy Doa."
      },
      {
        nama: "Prere",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/prere.jpg",
        deskripsi:
          "Alat musik tiup dari ruas bambu kecil sekitar 10–15 cm, dimainkan seperti terompet dan digunakan sebagai pengiring pencak silat rakyat."
      },
      {
        nama: "Foy Pay",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/foypay.jpg",
        deskripsi:
          "Alat musik tiup dari bambu, dimainkan seperti suling dengan cara menutup dan membuka lubang nada. Mengiringi lagu tandak dan musik adat."
      },
      {
        nama: "Knobe Khabetas",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/knobe.jpg",
        deskripsi:
          "Alat musik tiup dari bambu menyerupai busur panah dengan tali pengikat. Digunakan oleh masyarakat Dawan untuk mengiringi aktivitas pertanian dan penggembalaan."
      },
      {
        nama: "Ketadu Mara",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/ketadu.jpg",
        deskripsi:
          "Alat musik petik dari bambu atau kayu dengan 2–3 senar, bagian atasnya menyerupai kepala ayam. Sering dimainkan masyarakat Sabu dan Manggarai."
      },
      {
        nama: "Hi Tabi",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/hitabi.jpg",
        deskripsi:
          "Alat musik tiup dari cangkang kerang laut. Nama 'Hi Tabi' berasal dari bahasa Rote yang berarti alat musik bergetar, sesuai suara khasnya."
      },
      {
        nama: "Sowito",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/sowito.jpg",
        deskripsi:
          "Alat musik pukul dari bambu dengan sebagian kulit dihilangkan sekitar 2 cm. Dapat menghasilkan bunyi seperti dawai."
      },
      {
        nama: "Gong Waning",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/gongwaning.jpg",
        deskripsi:
          "Alat musik pukul terdiri dari gong logam dan waning (gendang kayu kelapa). Digunakan untuk mengiringi tarian dan ritual adat."
      },
      {
        nama: "Tambur Terompet",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/tambur.jpg",
        deskripsi:
          "Alat musik pukul dari kayu lai, rotan, dan kulit rusa. Digunakan dalam upacara adat dan mengiringi tarian daerah seperti lego-legi."
      },
      {
        nama: "Kediding",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/kediding.png",
        deskripsi:
          "Alat musik petik dari bambu dengan tiga dawai di tiap lubang resonansi. Dimainkan petani di Kabupaten Alor untuk menghilangkan sepi."
      },
      {
        nama: "Edang",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/edang.jpg",
        deskripsi:
          "Alat musik harpa mulut dari belahan bambu tipis dengan lidah sebagai sumber bunyi. Biasanya dimainkan petani di waktu senggang."
      },
      {
        nama: "Nuren",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/nuren.jpg",
        deskripsi:
          "Alat musik tiup dari dua suling bambu yang dimainkan bersamaan oleh satu orang. Terinspirasi dari legenda Edoreo di Solor Barat."
      },
      {
        nama: "Sunding Tongkeng",
        asal: "Nusa Tenggara Timur",
        gambar: "../images/sunding.jpg",
        deskripsi:
          "Alat musik tiup dari bambu dengan ruas berbuku. Nama 'Sunding' berarti suling, dan 'Tongkeng' merujuk pada posisi dimainkan tegak."
      },
      {
        nama: "Gendang Beleq",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/gendang.jpg",
        deskripsi:
          "Alat musik pukul dari kayu dan kulit kambing atau sapi. Berasal dari budaya Suku Sasak, digunakan untuk penyemangat prajurit dan penyambutan tamu."
      },
      {
        nama: "Terumpang",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/terumpang.png",
        deskripsi:
          "Alat musik pukul dari kuningan berbentuk mangkuk besar dengan tonjolan di sisi sebagai tempat pukulan. Berasal dari Suku Sasak di Lombok."
      },
      {
        nama: "Gong Tawaq-Tawaq",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/gon.jpg",
        deskripsi:
          "Alat musik pukul dari kuningan, terdiri dari gong kecil bernama tawaq-tawaq. Digunakan masyarakat Sasak dalam acara pernikahan dan khitanan."
      },
      {
        nama: "Satong Srek",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/satong.jpg",
        deskripsi:
          "Alat musik perkusi dari bambu dan seng. Saat digesek atau dipukul menghasilkan bunyi khas, dimainkan sebagai alat tambahan orkestra tradisional."
      },
      {
        nama: "Palompong",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/palompong.jpg",
        deskripsi:
          "Alat musik pukul dari kayu dan logam. Dahulu digunakan petani untuk menghibur diri saat bekerja di ladang."
      },
      {
        nama: "Gula Gending",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/gulagending.jpg",
        deskripsi:
          "Alat musik perkusi dari seng dan tekstil dengan kantong penghasil bunyi. Dulu digunakan penjual gula kapas untuk menarik perhatian anak-anak."
      },
      {
        nama: "Sarone",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/sarone.png",
        deskripsi:
          "Alat musik tiup dari bambu dan daun kelapa, berasal dari Suku Samawa di Sumbawa. Memiliki 4 lubang nada dan biasa diasapi sebelum dimainkan agar suaranya jernih."
      },
      {
        nama: "Silu",
        asal: "Nusa Tenggara Barat",
        gambar: "../images/silu.jpg",
        deskripsi:
          "Alat musik tiup dari Bima Dompu yang terbuat dari kayu sawo, perak, dan daun lontar. Digunakan untuk mengiringi tarian istana dan acara penting."
      }
]

const FAVORITES_KEY = 'favorites'; 

function generateUniqueKey(alat) {
    if (!alat || !alat.nama || !alat.asal) return null;
    return `${alat.nama.toLowerCase().replace(/\s/g, '_')}__${alat.asal.toLowerCase().replace(/\s/g, '_')}`;
}

function toggleFavorite(alat) {
    const uniqueKey = generateUniqueKey(alat);
    if (!uniqueKey) return false;

    let favorites = JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];
    const index = favorites.findIndex(fav => fav.uniqueKey === uniqueKey);

    if (index > -1) {
        favorites.splice(index, 1);
        localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));
        return false;
    } else {
        favorites.push({
            uniqueKey: uniqueKey,
            nama: alat.nama,
            asal: alat.asal,
            gambar: alat.gambar,
            deskripsi: alat.deskripsi
        });
        localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));
        return true;
    }
}

function isFavorite(alat) {
    const uniqueKey = generateUniqueKey(alat);
    let favorites = JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];
    return favorites.some(fav => fav.uniqueKey === uniqueKey);
}

function handleToggleFavorite(el, alatData) {
    const isNowFavorite = toggleFavorite(alatData); 
    
    el.textContent = isNowFavorite ? '★' : '☆';
    el.classList.toggle('active', isNowFavorite);
}

function toggleFavoriteByKey(uniqueKey) {
    if (!uniqueKey) return;
    const FAVORITES_KEY = 'favorites';
    let favorites = JSON.parse(localStorage.getItem(FAVORITES_KEY)) || [];
    
    const index = favorites.findIndex(fav => fav.uniqueKey === uniqueKey);

    if (index > -1) {
        favorites.splice(index, 1);
        localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));
        return true; 
    }
    return false;
}